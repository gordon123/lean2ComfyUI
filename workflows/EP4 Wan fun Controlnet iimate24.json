{
  "id": "e7533930-2792-43a9-b4b5-ded4617d8a43",
  "revision": 0,
  "last_node_id": 105,
  "last_link_id": 178,
  "nodes": [
    {
      "id": 49,
      "type": "CLIPVisionLoader",
      "pos": [
        -158.5624542236328,
        995.7689819335938
      ],
      "size": [
        340,
        60
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "CLIP_VISION",
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "slot_index": 0,
          "links": [
            94
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.37",
        "models": [
          {
            "name": "clip_vision_h.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors?download=true",
            "directory": "clip_vision"
          }
        ]
      },
      "widgets_values": [
        "clip_vision_h.safetensors"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 83,
      "type": "DWPreprocessor",
      "pos": [
        903.7980346679688,
        1251.5096435546875
      ],
      "size": [
        294.72265625,
        222
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 151
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            153
          ]
        },
        {
          "label": "POSE_KEYPOINT",
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "DWPreprocessor",
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        1024,
        "yolo_nas_l_fp16.onnx",
        "dw-ll_ucoco_384.onnx",
        "disable"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 82,
      "type": "AIO_Preprocessor",
      "pos": [
        912.5211791992188,
        1052.5048828125
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 150
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            152
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "AIO_Preprocessor",
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc"
      },
      "widgets_values": [
        "DepthAnythingV2Preprocessor",
        1024
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 87,
      "type": "easy cleanGpuUsed",
      "pos": [
        1483.9866943359375,
        990.515380859375
      ],
      "size": [
        157.38925170898438,
        26
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "label": "anything",
          "name": "anything",
          "type": "*",
          "link": 157
        }
      ],
      "outputs": [
        {
          "label": "output",
          "name": "output",
          "type": "*",
          "links": [
            158
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "easy cleanGpuUsed",
        "cnr_id": "comfyui-easy-use",
        "ver": "7ef0612ce7552968146ed41f5863a1638bf33412"
      },
      "widgets_values": [],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 85,
      "type": "VHS_VideoCombine",
      "pos": [
        1582.6151123046875,
        1057.664306640625
      ],
      "size": [
        219.3603515625,
        334
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 154
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "wanCOntrolnet",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "wanCOntrolnet_00010.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 16,
            "workflow": "wanCOntrolnet_00010.png",
            "fullpath": "/workspace/ComfyUI/output/wanCOntrolnet_00010.mp4"
          }
        }
      },
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 86,
      "type": "LayerUtility: PurgeVRAM",
      "pos": [
        2213.832275390625,
        494.41949462890625
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "label": "anything",
          "name": "anything",
          "type": "*",
          "link": 156
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "LayerUtility: PurgeVRAM",
        "cnr_id": "comfyui_layerstyle",
        "ver": "a46b1e6d26d45be9784c49f7065ba44700ef2b63"
      },
      "widgets_values": [
        true,
        true
      ],
      "color": "rgba(38, 73, 116, 0.7)"
    },
    {
      "id": 84,
      "type": "ImageBlend",
      "pos": [
        1199.8018798828125,
        1031.9134521484375
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "label": "image1",
          "name": "image1",
          "type": "IMAGE",
          "link": 152
        },
        {
          "label": "image2",
          "name": "image2",
          "type": "IMAGE",
          "link": 153
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            154,
            157
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlend",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        0.5,
        "soft_light"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 90,
      "type": "TeaCache",
      "pos": [
        473.291015625,
        -236.15414428710938
      ],
      "size": [
        310.6997375488281,
        131.57884216308594
      ],
      "flags": {},
      "order": 14,
      "mode": 4,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 160
        }
      ],
      "outputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "links": [
            159
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TeaCache",
        "cnr_id": "teacache",
        "ver": "9db9e3393f674bd32cc1ce5ce271fb4994ef19c8"
      },
      "widgets_values": [
        "wan2.1_i2v_720p_14B",
        0.26000000000000006,
        0,
        1
      ]
    },
    {
      "id": 66,
      "type": "CFGZeroStar",
      "pos": [
        1441.1846923828125,
        67.6477279663086
      ],
      "size": [
        230,
        30
      ],
      "flags": {
        "collapsed": false
      },
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 131
        }
      ],
      "outputs": [
        {
          "label": "patched_model",
          "name": "patched_model",
          "type": "MODEL",
          "links": [
            135
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CFGZeroStar",
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 91,
      "type": "CompileModel",
      "pos": [
        839.0426635742188,
        -234.94696044921875
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 159
        }
      ],
      "outputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "links": [
            161
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CompileModel",
        "cnr_id": "teacache",
        "ver": "9db9e3393f674bd32cc1ce5ce271fb4994ef19c8"
      },
      "widgets_values": [
        "default",
        "inductor",
        false,
        false
      ]
    },
    {
      "id": 98,
      "type": "TorchCompileModelWanVideo",
      "pos": [
        860.3199462890625,
        -676.15283203125
      ],
      "size": [
        342.74609375,
        178
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 166
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            167
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TorchCompileModelWanVideo",
        "cnr_id": "comfyui-kjnodes",
        "ver": "07b804cb3ff3b3eb8d2c5fdadd62d0822bebe4e8"
      },
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        false
      ]
    },
    {
      "id": 99,
      "type": "PathchSageAttentionKJ",
      "pos": [
        1246.707763671875,
        -672.2412109375
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 167
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            168
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "PathchSageAttentionKJ",
        "cnr_id": "comfyui-kjnodes",
        "ver": "07b804cb3ff3b3eb8d2c5fdadd62d0822bebe4e8"
      },
      "widgets_values": [
        "auto"
      ]
    },
    {
      "id": 100,
      "type": "PatchModelPatcherOrder",
      "pos": [
        1560.5240478515625,
        -675.9589233398438
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 168
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            170
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "PatchModelPatcherOrder",
        "cnr_id": "comfyui-kjnodes",
        "ver": "07b804cb3ff3b3eb8d2c5fdadd62d0822bebe4e8"
      },
      "widgets_values": [
        "weight_patch_first",
        "auto"
      ]
    },
    {
      "id": 65,
      "type": "SkipLayerGuidanceDiT",
      "pos": [
        1154.0146484375,
        -228.37185668945312
      ],
      "size": [
        230,
        180
      ],
      "flags": {
        "collapsed": false
      },
      "order": 24,
      "mode": 4,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 161
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "SkipLayerGuidanceDiT",
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "9,10",
        "9,10",
        3,
        0.024000000000000007,
        0.7970000000000002,
        1.0900000000000003
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 81,
      "type": "VHS_LoadVideo",
      "pos": [
        606.5968627929688,
        1054.489013671875
      ],
      "size": [
        252.056640625,
        334
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            150,
            151
          ]
        },
        {
          "label": "frame_count",
          "name": "frame_count",
          "type": "INT",
          "links": null
        },
        {
          "label": "audio",
          "name": "audio",
          "type": "AUDIO",
          "links": null
        },
        {
          "label": "video_info",
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo",
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d"
      },
      "widgets_values": {
        "video": "45132-441301006_tiny.mp4",
        "force_rate": 16,
        "force_size": "Disabled",
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 81,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "choose video to upload": "image",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "force_rate": 16,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 81,
            "skip_first_frames": 0,
            "select_every_nth": 1,
            "filename": "45132-441301006_tiny.mp4",
            "type": "input",
            "format": "video/mp4"
          }
        }
      },
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 55,
      "type": "WanFunControlToVideo",
      "pos": [
        850.81640625,
        522.0556640625
      ],
      "size": [
        250,
        230
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 112
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 113
        },
        {
          "label": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 114
        },
        {
          "label": "clip_vision_output",
          "name": "clip_vision_output",
          "shape": 7,
          "type": "CLIP_VISION_OUTPUT",
          "link": 119
        },
        {
          "label": "start_image",
          "name": "start_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 178
        },
        {
          "label": "control_video",
          "name": "control_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 158
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            115
          ]
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            116
          ]
        },
        {
          "label": "latent",
          "name": "latent",
          "type": "LATENT",
          "links": [
            117
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanFunControlToVideo",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        848,
        480,
        81,
        1
      ]
    },
    {
      "id": 97,
      "type": "WanVideoTeaCacheKJ",
      "pos": [
        525.6838989257812,
        -673.9472045898438
      ],
      "size": [
        285.1128845214844,
        154
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 169
        }
      ],
      "outputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "links": [
            166
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanVideoTeaCacheKJ",
        "cnr_id": "comfyui-kjnodes",
        "ver": "07b804cb3ff3b3eb8d2c5fdadd62d0822bebe4e8"
      },
      "widgets_values": [
        0.275,
        0.1,
        1,
        "offload_device",
        "14B"
      ]
    },
    {
      "id": 67,
      "type": "ModelSamplingSD3",
      "pos": [
        1593.9625244140625,
        -483.6142272949219
      ],
      "size": [
        240,
        60
      ],
      "flags": {
        "collapsed": false
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 170
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            133
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ModelSamplingSD3",
        "cnr_id": "comfy-core",
        "ver": "0.3.26",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        5.000000000000001
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 68,
      "type": "UNetTemporalAttentionMultiply",
      "pos": [
        1493.3050537109375,
        -241.43930053710938
      ],
      "size": [
        243.60000610351562,
        150
      ],
      "flags": {
        "collapsed": false
      },
      "order": 29,
      "mode": 4,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 133
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            131
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UNetTemporalAttentionMultiply",
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        1,
        1,
        1.2,
        1.3
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        1149.7264404296875,
        503.98101806640625
      ],
      "size": [
        280,
        262
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 135
        },
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 115
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 116
        },
        {
          "label": "latent_image",
          "name": "latent_image",
          "type": "LATENT",
          "link": 117
        }
      ],
      "outputs": [
        {
          "label": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            147
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        32844817615283,
        "randomize",
        20,
        8,
        "uni_pc",
        "simple",
        0.9000000000000001
      ]
    },
    {
      "id": 95,
      "type": "LayerMask: RmBgUltra V2",
      "pos": [
        -132.2432403564453,
        1162.020263671875
      ],
      "size": [
        270,
        246
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 162
        }
      ],
      "outputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "links": [
            176,
            177,
            178
          ]
        },
        {
          "label": "mask",
          "name": "mask",
          "type": "MASK",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "LayerMask: RmBgUltra V2",
        "cnr_id": "comfyui_layerstyle",
        "ver": "a46b1e6d26d45be9784c49f7065ba44700ef2b63"
      },
      "widgets_values": [
        "VITMatte(local)",
        6,
        6,
        0.01,
        0.99,
        true,
        "cuda",
        2
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 38,
      "type": "CLIPLoader",
      "pos": [
        -323.2362060546875,
        486.1062316894531
      ],
      "size": [
        350,
        106
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            74,
            75
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.37",
        "models": [
          {
            "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors?download=true",
            "directory": "text_encoders"
          }
        ]
      },
      "widgets_values": [
        "umt5_xxl_fp16.safetensors",
        "wan",
        "default"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 39,
      "type": "VAELoader",
      "pos": [
        -322.5341796875,
        720.2103881835938
      ],
      "size": [
        350,
        60
      ],
      "flags": {
        "collapsed": false
      },
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "VAE",
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            114,
            148
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.37",
        "models": [
          {
            "name": "wan_2.1_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors?download=true",
            "directory": "vae"
          }
        ]
      },
      "widgets_values": [
        "wan_2.1_vae.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 37,
      "type": "UNETLoader",
      "pos": [
        494.34039306640625,
        -454.28143310546875
      ],
      "size": [
        387.6127014160156,
        89.12046813964844
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            160,
            169
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UNETLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.37",
        "models": [
          {
            "name": "wan2.1_fun_control_1.3B_bf16.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.1_fun_control_1.3B_bf16.safetensors?download=true",
            "directory": "diffusion_models"
          }
        ]
      },
      "widgets_values": [
        "Wan2.1-Fun-Control-14B_fp8_e4m3fn.safetensors",
        "fp8_e4m3fn"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 80,
      "type": "VHS_VideoCombine",
      "pos": [
        2215.032958984375,
        554.1636962890625
      ],
      "size": [
        219.3603515625,
        334
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 149
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "wanControl",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "wanControl_00026.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 16,
            "workflow": "wanControl_00026.png",
            "fullpath": "/workspace/ComfyUI/output/wanControl_00026.mp4"
          }
        }
      }
    },
    {
      "id": 51,
      "type": "CLIPVisionEncode",
      "pos": [
        291.0349426269531,
        1018.6607666015625
      ],
      "size": [
        253.60000610351562,
        78
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "label": "clip_vision",
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 94
        },
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 177
        }
      ],
      "outputs": [
        {
          "label": "CLIP_VISION_OUTPUT",
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "slot_index": 0,
          "links": [
            119
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        "none"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 96,
      "type": "PreviewImage",
      "pos": [
        195.06982421875,
        1146.015869140625
      ],
      "size": [
        363.6800231933594,
        516.5639038085938
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 176
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 79,
      "type": "VAEDecodeTiled",
      "pos": [
        1896.7103271484375,
        506.66729736328125
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "label": "samples",
          "name": "samples",
          "type": "LATENT",
          "link": 147
        },
        {
          "label": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 148
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            149,
            156
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecodeTiled",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        512,
        64,
        64,
        8
      ]
    },
    {
      "id": 88,
      "type": "Note",
      "pos": [
        2531.803466796875,
        504.8825378417969
      ],
      "size": [
        472.00006103515625,
        248.4667510986328
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "rtx5090 vRam 32GB\nram 62 GB\n\n1.3B\n20steps 16FPS, 81Frame, 5sec = 105s Gen\n\n14B FP8\n20steps 16FPS, 81Frame, 5sec = 609s gen\n20steps 16FPS, 81Frame, 5sec + Teacache = 85s gen"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 103,
      "type": "Label (rgthree)",
      "pos": [
        -389.1885070800781,
        -625.9679565429688
      ],
      "size": [
        609.08203125,
        60
      ],
      "flags": {
        "allow_interaction": false,
        "pinned": true
      },
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Youtube By @iimate24",
      "properties": {
        "fontSize": 60,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 104,
      "type": "Label (rgthree)",
      "pos": [
        -394.8408508300781,
        -544.7763671875
      ],
      "size": [
        800.44921875,
        60
      ],
      "flags": {
        "allow_interaction": false,
        "pinned": true
      },
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "https://youtu.be/UZU2e8l4Tgo",
      "properties": {
        "fontSize": 60,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 102,
      "type": "Label (rgthree)",
      "pos": [
        -387.57000732421875,
        -709.3097534179688
      ],
      "size": [
        634.716796875,
        60
      ],
      "flags": {
        "allow_interaction": false,
        "pinned": true
      },
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "WAN2.1 Fun Controlnet",
      "properties": {
        "fontSize": 60,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 52,
      "type": "LoadImage",
      "pos": [
        -536.7077026367188,
        964.6285400390625
      ],
      "size": [
        336.5476989746094,
        565.616943359375
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            162
          ]
        },
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK",
          "slot_index": 1,
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        "d9dd98ebb94dd58440df78c7ef3f70d1.jpg",
        "image"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        86.34242248535156,
        473.44317626953125
      ],
      "size": [
        420,
        140
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "label": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 74
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            112
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        "portrait of a woman, wearing a stylish modern dress,  soft lighting, elegant confident pose, and she is sitting in the flower garden"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        81.3237533569336,
        703.30908203125
      ],
      "size": [
        420,
        130
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "label": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 75
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            113
          ]
        }
      ],
      "title": "CLIP Text Encode (Negative Prompt)",
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.37"
      },
      "widgets_values": [
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走，不合理的动作"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [
      74,
      38,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      75,
      38,
      0,
      7,
      0,
      "CLIP"
    ],
    [
      94,
      49,
      0,
      51,
      0,
      "CLIP_VISION"
    ],
    [
      112,
      6,
      0,
      55,
      0,
      "CONDITIONING"
    ],
    [
      113,
      7,
      0,
      55,
      1,
      "CONDITIONING"
    ],
    [
      114,
      39,
      0,
      55,
      2,
      "VAE"
    ],
    [
      115,
      55,
      0,
      3,
      1,
      "CONDITIONING"
    ],
    [
      116,
      55,
      1,
      3,
      2,
      "CONDITIONING"
    ],
    [
      117,
      55,
      2,
      3,
      3,
      "LATENT"
    ],
    [
      119,
      51,
      0,
      55,
      3,
      "CLIP_VISION_OUTPUT"
    ],
    [
      131,
      68,
      0,
      66,
      0,
      "MODEL"
    ],
    [
      133,
      67,
      0,
      68,
      0,
      "MODEL"
    ],
    [
      135,
      66,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      147,
      3,
      0,
      79,
      0,
      "LATENT"
    ],
    [
      148,
      39,
      0,
      79,
      1,
      "VAE"
    ],
    [
      149,
      79,
      0,
      80,
      0,
      "IMAGE"
    ],
    [
      150,
      81,
      0,
      82,
      0,
      "IMAGE"
    ],
    [
      151,
      81,
      0,
      83,
      0,
      "IMAGE"
    ],
    [
      152,
      82,
      0,
      84,
      0,
      "IMAGE"
    ],
    [
      153,
      83,
      0,
      84,
      1,
      "IMAGE"
    ],
    [
      154,
      84,
      0,
      85,
      0,
      "IMAGE"
    ],
    [
      156,
      79,
      0,
      86,
      0,
      "*"
    ],
    [
      157,
      84,
      0,
      87,
      0,
      "*"
    ],
    [
      158,
      87,
      0,
      55,
      5,
      "IMAGE"
    ],
    [
      159,
      90,
      0,
      91,
      0,
      "MODEL"
    ],
    [
      160,
      37,
      0,
      90,
      0,
      "MODEL"
    ],
    [
      161,
      91,
      0,
      65,
      0,
      "MODEL"
    ],
    [
      162,
      52,
      0,
      95,
      0,
      "IMAGE"
    ],
    [
      166,
      97,
      0,
      98,
      0,
      "MODEL"
    ],
    [
      167,
      98,
      0,
      99,
      0,
      "MODEL"
    ],
    [
      168,
      99,
      0,
      100,
      0,
      "MODEL"
    ],
    [
      169,
      37,
      0,
      97,
      0,
      "MODEL"
    ],
    [
      170,
      100,
      0,
      67,
      0,
      "MODEL"
    ],
    [
      176,
      95,
      0,
      96,
      0,
      "IMAGE"
    ],
    [
      177,
      95,
      0,
      51,
      1,
      "IMAGE"
    ],
    [
      178,
      95,
      0,
      55,
      4,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Load Models",
      "bounding": [
        475.0871887207031,
        -759.68994140625,
        1427.8372802734375,
        414.3072204589844
      ],
      "color": "#88A",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Start Frame & CLIP Vision",
      "bounding": [
        -168.5624542236328,
        922.1690063476562,
        737.3123779296875,
        750.4111938476562
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Attention Booster",
      "bounding": [
        481.0981140136719,
        -322.59857177734375,
        1420.447265625,
        637.6558837890625
      ],
      "color": "#88A",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Prompt",
      "bounding": [
        -331.6687927246094,
        398.5174865722656,
        845.4920043945312,
        444.02392578125
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Video and Preprocessor",
      "bounding": [
        596.596923828125,
        916.9154052734375,
        1215.378662109375,
        610.9165649414062
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Sampling & Decode",
      "bounding": [
        840.81640625,
        430.3810119628906,
        598.9100341796875,
        345.6000061035156
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "Video out put",
      "bounding": [
        1886.7103271484375,
        420.8194885253906,
        1127.0933837890625,
        604.189697265625
      ],
      "color": "#444",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 10,
      "title": ".",
      "bounding": [
        -404.4869689941406,
        -754.2785034179688,
        830.299072265625,
        285.9954528808594
      ],
      "color": "#b58b2a",
      "font_size": 1,
      "flags": {
        "pinned": true
      }
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.25401326852420053,
      "offset": [
        1040.213903362762,
        265.07583382904284
      ]
    },
    "frontendVersion": "1.20.6",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "ue_links": []
  },
  "version": 0.4
}